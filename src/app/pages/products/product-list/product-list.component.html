<div class="container my-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">
      <i class="bi bi-gear-fill text-primary"></i> Gestión de Inventario
    </h2>
    <div>
      <button class="btn btn-primary" (click)="onAddProduct()">
        <i class="bi bi-plus-lg"></i> Agregar producto
      </button>
    </div>
    <!-- <div>
      <button class="btn btn-outline-success me-2">
        <i class="bi bi-file-earmark-excel"></i> Exportar Excel
      </button>
      <button class="btn btn-outline-danger">
        <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
      </button>
    </div> -->
  </div>

  <app-product-search (search)="onSearch($event)"></app-product-search>


<app-product-table
  [products]="products"
  [loading]="loading"
  (editStock)="openStockModal($event)"
  (select)="onSelectProduct($event)"
  (edit)="onEditProduct($event)">
</app-product-table>

<app-stock-adjustment
  [show]="showStockModal"
  [product]="selectedProduct"
  (closed)="showStockModal = false"
  (saved)="onStockSaved()">
</app-stock-adjustment>

  <!-- Paginación Bootstrap -->
  <nav *ngIf="totalPages > 1" class="mt-3">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="page === 0">
        <button class="page-link" (click)="goToPage(page - 1)">
          <i class="bi bi-chevron-left"></i>
        </button>
      </li>
      <li class="page-item" *ngFor="let p of [].constructor(totalPages); let i = index" [class.active]="i === page">
        <button class="page-link" (click)="goToPage(i)">{{ i + 1 }}</button>
      </li>
      <li class="page-item" [class.disabled]="page === totalPages - 1">
        <button class="page-link" (click)="goToPage(page + 1)">
          <i class="bi bi-chevron-right"></i>
        </button>
      </li>
    </ul>
  </nav>
</div>